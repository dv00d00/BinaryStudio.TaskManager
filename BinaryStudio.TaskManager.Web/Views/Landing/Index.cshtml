@using BinaryStudio.TaskManager.Web.Helpers
@using BinaryStudio.TaskManager.Logic.Domain
@model BinaryStudio.TaskManager.Web.Models.LandingIndexModel

@{
    ViewBag.Title = "Task Manager";
}
<link href="@Url.Content("~/Content/Landing.css")" rel="stylesheet" type="text/css" /> 
<link href="@Url.Content("~/Content/jquery.fancybox.css")" rel="stylesheet" type="text/css" /> 

<script src="@Url.Content("~/Scripts/jquery.fancybox.pack.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/landing.js")" type="text/javascript"></script>
<div class="row main-row">
    <div id="left_panel" class="span3">
        @Html.TypeaheadFor(model => model.ProjectHumanTask, 
             Model.UserProjects.Select(x => x.Tasks).SelectMany(tasks => tasks).Distinct().Select(x => x.Name))
        <div id="task_groups">
            <h3>Task Groups</h3>
            <ul class="task_group_list">
                <li>All</li>
                <li>My Tasks</li>
                <li>Unassigned</li>
            </ul>
        </div>
        <div id="projects">
            <div class="projects_top"> 
                <div class="new_project_btn">Add Project</div>
                <h3>Projects</h3>
             </div>
             <div class="project_list">   
                 @foreach (var project in Model.UserProjects)
                 {
                     <div class="project_name">@project.Name</div>
                 }
             
             
                 @foreach (var project in Model.CreatorProjects)
                 {
                     <div class="proj_row" data-id="@project.Id">
                         <div class="delete_btn"></div>
                         <div class="created_projs project_name">@project.Name</div>
                         <a href="/Project/Project/@project.Id"><div title="@project.Name dashboard" class="dashboard_btn"></div></a>
                     </div>
                 }
              </div>
            <div id="loader">
                
            </div>
        </div>
    <div id="content" class="span6">
        <h2></h2>
         <ul class="tasks">
         </ul>
    </div>
        <div id="right_panel" class="span3">
        </div>
        <div class="modal hide" id="delete_box">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">×</button>
                <h3>Delete Project</h3>
            </div>
            <div class="modal-body">
            </div>
            <div class="modal-footer">
                <a href="#" class="btn no" data-dismiss="modal">Close</a>
                <a href="#" class="btn btn-primary yes" data-dismiss="modal">Delete</a>
            </div>
        </div>
        <div id='add_proj_box'>
            <input type="text" autofocus="autofocus"></input>
            <button class="add_proj_btn">Add Project</button>
            <span class="add_cancel">Cancel</span>
        </div>
    </div>
    </div>