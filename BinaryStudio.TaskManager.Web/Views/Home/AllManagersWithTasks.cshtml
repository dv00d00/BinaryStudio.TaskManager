@using System.Collections.Generic;
@using BinaryStudio.TaskManager.Web.Models

@model ICollection<BinaryAcademia.AllManagerView.Models.Manager>



<!DOCTYPE html>



<html>
<head>
    <title>AllManagersWithTasks</title>
    
    <style type="text/css">
        div.task{
                border:1px solid black;
                width:200px;
                height:150px;
        }
        
        div.manager{
                border:1px solid black;
                width:200px;
                height:30px;
        }
    </style>
</head>
    <body>
        <!-- Caption of the table "Managers-Tasks"-->
        <p align="center">Managers and their curent tasks.</p>
        <table align="center">
            
   
            @if (Model.Count == 0)
            {
                <p>No managers found!</p>
            }
            else
            {
            <!-- Header of the table (Managers names)-->
            <tr>
                @foreach(BinaryAcademia.AllManagerView.Models.Manager manager in Model)
                {
                    <td align="center" width="250">
                        <div class="manager">@manager.Name </div>
                    </td>
                }
            </tr>
            
            <!-- Create a column with tasks-->
           
                foreach (BinaryAcademia.AllManagerView.Models.Manager manager in Model)
                {
                    <td  align = "center" valign="top" width="250">
                        @if (manager.Tasks.Count != 0)
                        {
                            foreach (TaskModel task in manager.Tasks)
                            {
                                <div class="task">
                                    <b>@task.Title</b>
                                    <p>
                                        @task.Description
                                    </p>
                                </div>
                            }
                        }
                        else
                        {
                            <!--<div class="task" align="center">This manager don have a Task. Lets find it for this lazy man!</div> -->
                        }
                    </td>
                }
            }
        </table>
    </body>
</html>
