@model BinaryStudio.TaskManager.Web.Models.SingleTaskViewModel
<link href="../../Content/themes/base/jquery.ui.all.css" rel="stylesheet" type="text/css" />
<script src="../../Scripts/PopupDialog.js" type="text/javascript"></script>
@* This partial view draw a task block in table *@
@{ string divClass = "pr" + Model.HumanTask.Priority.ToString();
   string[] pClass = { "priorityLow", "priorityMiddle", "priorityHigh", "blocking" };
    <div class ="task"  id = @Model.HumanTask.Id.ToString() style="position: relative;">
        <p class= "@pClass[@Model.HumanTask.Priority].ToString()" style="text-overflow: clip; border-radius: 13px 13px 0px 0px; font-size: 10pt; margin-top: 0.5px ;margin-bottom: 4px; height: 20px; padding-top: 5px;">
            <a href="@Url.Action("Edit", "Project", new { taskId = @Model.HumanTask.Id, projectId = @Model.HumanTask.ProjectId, viewStyle = @Model.ViewStyle })">
                <i class= "icon-edit" style="position: absolute; left: 15px;" title="edit task"></i>
            </a>
            @Model.TaskName
            <a data-toggle="modal" href="#delete">
                <i class= "icon-remove" style="position: absolute; right: 15px" title="delete task"></i>
            </a>
        </p>
        <div style="overflow: hidden; margin: 5px">
            @Model.HumanTask.Description
        </div>
        <br />
        <div>
            <a href="@Url.Action("Details", "Project", new { id = @Model.HumanTask.Id, viewStyle = @Model.ViewStyle })" style="position: absolute; bottom:0px; left: 15px; font-size: 9pt;" >
                <img height="20" width="20" style="padding-bottom: 4px;" src=@Url.Content("~/Content/images/details.png")/>
                details </a>
            @if (Model.HumanTask.AssigneeId.HasValue)
            {
                if (Model.HumanTask.Closed == (DateTime?)null)
                {
                    <a  class="done" id="@Model.HumanTask.Id" style="position: absolute; bottom: 0px; left: 110px; font-size: 9pt; cursor: pointer;" >
                        <img height="18" width="18" style="padding-bottom: 4px;" src=@Url.Content("~/Content/images/done.png")/>
                        done </a>
                }
                else
                {
                    <p style="position: absolute; bottom: 0px; left: 90px; font-size: 9pt; margin: 0 0 7px;">
                        closed:@Model.HumanTask.Closed.Value.ToShortDateString()
                    </p>
                }
            }
        </div>
    </div>
}
<div class="modal hide" id="delete">
     @Html.Partial("DeleteTaskPartialView", @Model)
</div>